<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Task</title>

    <link rel="stylesheet" href="./addTaskStyle.css">
    <link rel="stylesheet" href="./css/standard.css">
    <link rel="stylesheet" href="./css/headbar_sidebar.css">
    <script src="addTaskScript.js" defer></script>
    <script src="./script/addtask_template.js" defer></script>
    <script src="./script/addtask.template_funktion.js" defer></script>
</head>
<body onload="init()">

    <nav>
        <div class="upper-container">
            <div class="sidebar">
                <img class="sidebar-logo" src="./assets/img/logo/join_logo_vector.svg">
                <div class="next-page">
                    <button class="summary" href="#"><img class="subtaskIcon" src="./assets/svg/icons_page/summary.svg"></button>
                    <button class="add-task" href="#"><img class="subtaskIcon" src="./assets/svg/icons_page/add_task.svg"></button>
                    <button class="board" href="#"><img class="subtaskIcon" src="./assets/svg/icons_page/board.svg"></button>
                    <button class="contacts" href="#"><img class="subtaskIcon" src="./assets/svg/icons_page/contacts.svg"></button>
                </div>
                <div class="sidebar-bottom">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Legal notice</a>
                </div>
            </div>
            <div class="center-wrap">
                <header>
                <div class="header-wrap" id="headerWrap">
                    <h2>Kanban Project Management Tool</h2>
                    <div class="profile-section">
                        <button class="help-icon"><img src="./assets/svg/help_small.svg"></button>
                        <button class="profile" id="profilePicture" onclick="dropDown(event)">SM</button>
                    </div>
                </div> 
                </header>
                <div class="dropdown-menu-container" id="dropDownMenu">
                    <div class="dropdown-menu">
                        <button>Legal Notice</button>
                        <button>Privacy Policy</button>
                        <button>Log out</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="border">
        <form id="taskForm">
            <h1>Add Task</h1>
            <section>
                <div class="add-task-container">
                    <div class="task-input-container">
                        <div class="input_field">
                            <label aria-label="title">Title<span class="req">*</span></label>
                            <input type="text" id="title" class="task-input inputBorderColor" placeholder="Enter a title" required>

                        </div>
                            <div class="input_field">
                            <label aria-label="Title">Discription</label>
                            <textarea id="discription" class="task-input inputBorderColor" placeholder="Enter a description"></textarea>
                        </div>
                        <div class="input_field">
                            <label aria-label="Date">Due date<span class="req">*</span></label>
                            <div id="date" class="task-input dpf sp_between inputBackground"  required>
                                <div class="fontColor" id="duedate">dd/mm/yyyy</div>
                                <button type="button" onclick="pickDate()" class="iconButtonsForImg"><img src="./assets/svg/event.svg" alt="event"></button>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="separator"></div>
               
                <div class="add-task-container-right">
                    <div class="task-input-container">
                        <div class="input_field">
                            <label aria-label="Priority">Priority</label>
                            <div class="priority-buttons">
                                <button type="button" id="urgentBtn" class="urgent_btn priority-btn">Urgent <span class="urgent_icon"></span> </button> 
                                <button type="button" id="mediumBtn" class="medium-btn priority-btn">Medium <span class="medium_icon"></span></button>
                                <button type="button" id="low_btn" class="low_btn priority-btn">Low <span class="low_icon"></span></button>
                            </div>
                        </div>

                        <div class="input_field">
                            <label aria-label="Assigned_to">Assigned to</label>
                            <div class="custom-category-dropdown" id="contactDropdown">
                                <div class="dropdown-header" onclick="toggleContactDropdown()">
                                    <span>Select contacts to assign</span>
                                    <div class="dropdown-arrow" id="dropdownArrow"> <img src="./assets/img/arrow_drop_down.png" alt="arrow"></div>
                                </div>
                                <div class="dropdown-list" id="categoryDropdownList">
                                    <div id="labelContact"></div>
                                </div>
                                <div id="iconConact" class="dpf gap8"></div>
                            </div>
                        </div>
                        

                        <div class="input_field">
                            <label aria-label="Category">Category<span class="req">*</span></label>

                            <div class="custom-category-dropdown" id="categoryDropdown">
                                <div class="dropdown-header" onclick="toggleCategoryDropdown()">
                                    <span id="selectedCategory">Select task category</span>
                                    <div class="dropdown-arrow" id="dropdownArrow"><img src="./assets/img/arrow_drop_down.png" alt="arrow"></div>
                                </div>
                                <div class="dropdown-list" id="categoryDropdownList">
                                    <div id="labelCategory"></div>
                                </div>
                            </div>
                        </div>
                        

                        <div class="input_field">
                            <label aria-label="Subtasks">Subtasks</label>
                              <div class="input-wrapper">
                                <input 
                                type="text" 
                                class="task-input inputBorderColor" 
                                id="subtaskReadOut" 
                                placeholder="Add new subtask">
                                <div id="inputButtons"></div> <!-- Hier werden die Buttons gerendert -->
                            </div>
                            <div class="subtask" id="addSubtask"></div>
                        </div>

                    </div>
                </div>
            </section>

            <div class="footer_Add_Task">
                <span><span class="req">*</span>This field is required</span>
                <div class="buttons_Add_Task">
                    <button type="clear" class="btn btn_clear">Clear</button>
                    <button type="submit" class="btn btn_create" >Create Task</button>
            </div>
        </form>

        </div>
    </main>

</body>
</html>